<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.themartdev.intellijgleam</id>
    <name>Gleam Language</name>
    <vendor>themartdev</vendor>

    <depends>com.redhat.devtools.lsp4ij</depends>

    <resource-bundle>messages.GleamBundle</resource-bundle>

    <extensions defaultExtensionNs="com.redhat.devtools.lsp4ij">
        <server factoryClass="com.github.themartdev.intellijgleam.ide.lsp.GleamLanguageServerFactory"
                id="gleam-ls"
                name="Gleam Language Server"
        >
            <description><![CDATA[
            <h1>Gleam language server</h1>
            ]]>
            </description>
        </server>
<!--        <languageMapping language="Gleam" serverId="gleam-ls"/>-->
        <fileNamePatternMapping patterns="*.gleam" serverId="gleam-ls"/>
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="Gleam"
                  language="Gleam"
                  implementationClass="com.github.themartdev.intellijgleam.lang.GleamFileType"
                  extensions="gleam"
                  fieldName="INSTANCE"/>

        <lang.parserDefinition language="Gleam"
                               implementationClass="com.github.themartdev.intellijgleam.lang.parser.GleamParserDefinition"/>

        <lang.syntaxHighlighter language="Gleam"
                                implementationClass="com.github.themartdev.intellijgleam.ide.highlighting.GleamSyntaxHighlighter"/>

        <annotator language="Gleam"
                   implementationClass="com.github.themartdev.intellijgleam.ide.annotator.GleamHighlightingAnnotator"/>

        <completion.contributor language="Gleam"
                                implementationClass="com.github.themartdev.intellijgleam.ide.completion.GleamCompletionContributor"/>

        <lang.commenter language="Gleam"
                        implementationClass="com.github.themartdev.intellijgleam.ide.editor.GleamCommenter"/>

        <!-- Editor -->
        <lang.braceMatcher language="Gleam"
                           implementationClass="com.github.themartdev.intellijgleam.ide.editor.GleamBraceMatcher"/>
        <lang.quoteHandler language="Gleam"
                           implementationClass="com.github.themartdev.intellijgleam.ide.editor.GleamQuoteHandler"/>

    </extensions>
</idea-plugin>
